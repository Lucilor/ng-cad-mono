<div class="toolbar" #toolbar>
  @for (btn of toolbarBtns(); track $index) {
    @if (btn.name) {
      <button mat-raised-button [class]="btn.class" [style]="btn.style" [color]="btn.color" (click)="onToolbarBtnClick(btn)">
        {{ btn.name }}
      </button>
    } @else {
      <mat-divider vertical class="placeholder large" [class]="btn.class" [style]="btn.style"></mat-divider>
    }
  }
  <button mat-raised-button color="primary" [matMenuTriggerFor]="links">更多</button>
  <mat-menu #links="matMenu">
    <button mat-menu-item><app-about></app-about></button>
    <ng-scrollbar>
      @for (btn of moreBtns(); track $index) {
        <button mat-menu-item (click)="btn.onClick()">{{ btn.name }}</button>
      }
    </ng-scrollbar>
  </mat-menu>
</div>

<div class="flex-110 flex-row" style="height: 0">
  <div class="lrsj-left">
    <app-lurushuju-nav></app-lurushuju-nav>
  </div>
  <mat-divider vertical></mat-divider>
  <div class="lrsj-right">
    <app-lrsj-xinghaos
      #lrsjPiece
      class="lrsj-piece"
      [class.hidden]="!pieceInfos.xinghaos().show"
      (saveInfo)="saveInfo()"
    ></app-lrsj-xinghaos>
    <app-lrsj-zuofas #lrsjPiece class="lrsj-piece" [class.hidden]="!pieceInfos.zuofas().show" (saveInfo)="saveInfo()"></app-lrsj-zuofas>
    <app-lrsj-suanliao-data #lrsjPiece class="lrsj-piece" [class.hidden]="!pieceInfos.suanliaoData().show"></app-lrsj-suanliao-data>
  </div>
</div>

<app-floating-dialog-trays #trays [limits]="{top: toolbar, bottom: trays.traysEl().nativeElement}"></app-floating-dialog-trays>
