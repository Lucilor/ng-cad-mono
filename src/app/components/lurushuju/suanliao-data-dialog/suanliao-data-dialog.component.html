<div class="toolbar">
  <div class="flex-110"></div>
  <button mat-raised-button color="primary" (click)="editBcfz()">板材分组</button>
  <button mat-raised-button color="primary" (click)="copySuanliaoCads()">从其他做法复制</button>
  <button mat-raised-button color="primary" (click)="selectSuanliaoCads()">从配件库选择</button>
  <button mat-raised-button color="primary" (click)="suanliaoTest()">算料测试</button>
  <mat-divider vertical class="placeholder large"></mat-divider>
  <button mat-raised-button color="primary" (click)="submitMenjiao()">保存</button>
  <button mat-raised-button color="primary" (click)="submit()">提交并关闭</button>
</div>
<div class="flex-110 flex-row">
  <app-suanliaogongshi class="suanliaogongshis" [info]="openCadOptions.suanliaogongshiInfo"></app-suanliaogongshi>
  <mat-divider vertical></mat-divider>
  <div class="flex-column flex-110 scrollbar-container">
    <div class="toolbar">
      <app-input style="width: 0; flex: 0 1 180px" [info]="suanliaoCadsSearch"></app-input>
      <button mat-raised-button [color]="isSuanliaoCadReversed ? 'accent' : 'primary'" (click)="isSuanliaoCadReversed = true">升序</button>
      <button mat-raised-button [color]="isSuanliaoCadReversed ? 'primary' : 'accent'" (click)="isSuanliaoCadReversed = false">降序</button>
    </div>
    <ng-scrollbar class="enable-x">
      <div class="cads flex-row">
        @for (cad of getSuanliaoCads(); track i; let i = $index) {
          <app-cad-item
            [cad]="cad"
            [buttons]="cadItemButtons"
            [shujuyaoqiu]="cadShujuyaoqiu"
            [mubanExtraData]="mubanExtraData"
            [openCadOptions]="openCadOptions"
            [customInfo]="{index: i}"
            [noMuban]="!data.isKailiao"
            [class.hidden]="hiddenSuanliaoCads.includes(i)"
          ></app-cad-item>
        }
      </div>
    </ng-scrollbar>
  </div>
  <mat-divider vertical></mat-divider>
  @if (data.isKailiao) {
    <app-suanliao-tables [suanliaoDataParams]="data.suanliaoDataParams"></app-suanliao-tables>
  }
</div>
