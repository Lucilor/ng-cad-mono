<div class="img-container" [class.small-pic]="bigPicSrc()" (click)="showBigPic()">
  @if (loading()) {
    <img
      [src]="loadingSrc()"
      (wheel)="onWheel($event)"
      (pointerdown)="onPointerDown($event)"
      (pointermove)="onPointerMove($event)"
      (pointerup)="onPointerUp($event)"
    />
  }
  @if (error()) {
    <img
      [src]="emptySrc()"
      (wheel)="onWheel($event)"
      (pointerdown)="onPointerDown($event)"
      (pointermove)="onPointerMove($event)"
      (pointerup)="onPointerUp($event)"
    />
  }
  @if (currSrc(); as currSrc) {
    <img
      [src]="currSrc"
      [class.hidden]="loading() || error()"
      (wheel)="onWheel($event)"
      (pointerdown)="onPointerDown($event)"
      (pointermove)="onPointerMove($event)"
      (pointerup)="onPointerUp($event)"
      (load)="onLoad()"
      (error)="onError()"
    />
  } @else {
    <img
      [src]="emptySrc()"
      (wheel)="onWheel($event)"
      (pointerdown)="onPointerDown($event)"
      (pointermove)="onPointerMove($event)"
      (pointerup)="onPointerUp($event)"
    />
  }
</div>

@if (currBigPicSrc(); as currBigPicSrc) {
  <div #bigPicDiv class="big-pic" [class]="bigPicClass()" style="display: none" (click)="hideBigPic()">
    @if (bigPicVisible()) {
      <img [src]="currBigPicSrc" @toggle />
    }
  </div>
}
