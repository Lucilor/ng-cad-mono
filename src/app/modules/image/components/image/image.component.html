<div class="img-container" [class.small-pic]="bigPicSrc" (click)="showBigPic()">
  @if (loading) {
    <div>
      <img [src]="loadingSrc" />
    </div>
  }
  <img
    (wheel)="onWheel($event)"
    (pointerdown)="onPointerDown($event)"
    (pointermove)="onPointerMove($event)"
    (pointerup)="onPointerUp($event)"
    [src]="getSrc()"
    [ngStyle]="{visibility: loading ? 'hidden' : ''}"
    (load)="onLoad()"
    (error)="onError()"
  />
</div>

@if (getBigPicSrc()) {
  <div #bigPicDiv class="big-pic" [ngClass]="bigPicClass" style="display: none" (click)="hideBigPic()">
    @if (bigPicVisible) {
      <img [src]="getBigPicSrc()" @toggle />
    }
  </div>
}
